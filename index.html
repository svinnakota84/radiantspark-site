<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Radiant Spark LLC</title>
<meta name="description" content="Radiant Spark LLC offers IT services, real estate, and home renovation expertise in Georgia;">
<style>
  /* (All your original styles - unchanged for brevity, copy from previous version) */
  *, *::before, *::after { box-sizing: border-box; }
  body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f1f5f9; display: flex; flex-direction: column; min-height: 100vh; overflow-x: hidden; }
  a { color: #2563eb; text-decoration: none; transition: 0.3s; }
  a:hover { color: #1abc9c; text-decoration: underline; }
  header { background: linear-gradient(135deg,#1E3A8A,#3B82F6); color: white; padding: 40px 20px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
  header h1 { margin: 0; font-size: 2.8rem; }
  nav { margin-top: 20px; }
  nav a { margin: 0 15px; font-weight: 600; color: #f8fafc; font-size: 1.1rem; }
  nav a:hover { text-decoration: underline; }
  main { flex: 1; max-width: 1100px; margin: 40px auto; padding: 0 20px; background: white; border-radius: 12px; box-shadow: 0 12px 30px rgba(0,0,0,0.12); overflow: hidden; position: relative; }
  .hero { height: 300px; background: #1e40af; color: white; display: flex; align-items: center; justify-content: center; text-align: center; border-radius: 12px 12px 0 0; background-size: cover; background-position: center; position: relative; }
  .hero::before { content: ''; position: absolute; inset: 0; background: rgba(0,0,0,0.4); }
  .hero h2 { font-size: 2.8rem; margin: 0; position: relative; z-index: 1; }
  #it-hero { background-image: url('https://images.unsplash.com/photo-1556761175-4b46a572b786?auto=format&fit=crop&w=1500&q=80'); }
  #real-hero { background-image: url('https://images.unsplash.com/photo-1572120360610-d971b9b78830?auto=format&fit=crop&w=1500&q=80'); }
  #flip-hero { background-image: url('https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=1500&q=80'); }
  section { padding: 40px; line-height: 1.7; }
  section h2 { color: #1e40af; text-align: center; margin-bottom: 20px; }
  .services ul { list-style: none; padding: 0; }
  .services li { background: #f0f7ff; margin: 12px 0; padding: 15px; border-radius: 8px; border-left: 5px solid #3b82f6; font-size: 1.1rem; }
  footer { text-align: center; padding: 20px; background: #1e293b; color: white; font-size: 0.9rem; }
  .page { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: white; opacity: 0; transform: scale(0.98); pointer-events: none; transition: opacity 0.7s ease, transform 0.7s ease; }
  .page.active { opacity: 1; transform: scale(1); pointer-events: auto; position: relative; }
  #chat-toggle { position: fixed; bottom: 20px; right: 20px; background: #3b82f6; color: white; border: none; width: 60px; height: 60px; border-radius: 50%; font-size: 28px; cursor: pointer; box-shadow: 0 8px 20px rgba(0,0,0,0.3); z-index: 1000; }
  #chat-toggle:hover { background: #1abc9c; }
  #chatbox { position: fixed; bottom: 90px; right: 20px; width: 380px; max-width: 90vw; height: 520px; background: white; border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,0.25); display: none; flex-direction: column; z-index: 999; border: 2px solid #3b82f6; overflow: hidden; }
  #chatbox-header { background: linear-gradient(135deg,#1E3A8A,#3B82F6); color: white; padding: 16px; font-weight: bold; font-size: 1.1rem; display: flex; justify-content: space-between; align-items: center; }
  #chat-close { cursor: pointer; font-size: 24px; }
  #chatbox-messages { flex: 1; padding: 20px; overflow-y: auto; background: #f8fafc; display: flex; flex-direction: column; }
  #chatbox-messages p { margin: 10px 0; padding: 12px 16px; border-radius: 18px; max-width: 80%; word-wrap: break-word; }
  #chatbox-messages .user { background: #3b82f6; color: white; align-self: flex-end; }
  #chatbox-messages .ai { background: #e0f2fe; color: #1e293b; align-self: flex-start; }
  #chatbox-messages .ai strong, #chatbox-messages .user strong { display: block; margin-bottom: 4px; }
  #chatbox-form { display: flex; padding: 12px; background: white; border-top: 1px solid #e2e8f0; }
  #chatbox-input { flex: 1; padding: 12px 16px; border: 1px solid #cbd5e1; border-radius: 25px; outline: none; font-size: 1rem; }
  #chatbox-input:focus { border-color: #3b82f6; }
  #chatbox-send { margin-left: 10px; background: #3b82f6; color: white; border: none; padding: 0 20px; border-radius: 25px; cursor: pointer; font-weight: bold; }
  #chatbox-send:hover { background: #1abc9c; }
</style>
</head>
<body>

<!-- Your full header, main content, and footer (exactly the same as before) -->
<header>
  <h1>Radiant Spark LLC</h1>
  <p>Technology • Real Estate • Renovation Experts</p>
  <nav>
    <a href="#it">IT Services</a>
    <a href="#real-estate">Real Estate</a>
    <a href="#flip">Flip & Fix</a>
  </nav>
</header>

<main>
  <!-- IT, Real Estate, and Flip pages (copy from your previous code - unchanged) -->
  <div id="it-page" class="page active"> ... </div>
  <div id="real-page" class="page"> ... </div>
  <div id="flip-page" class="page"> ... </div>
</main>

<footer>© 2025 Radiant Spark LLC. All rights reserved.</footer>

<!-- Chat Widget -->
<button id="chat-toggle">Chat</button>
<div id="chatbox">
  <div id="chatbox-header">
    Radiant Spark AI Assistant
    <span id="chat-close">×</span>
  </div>
  <div id="chatbox-messages">
    <p class="ai"><strong>AI:</strong> Hello! I'm your Radiant Spark AI assistant. How can I help you today?</p>
  </div>
  <form id="chatbox-form">
    <input type="text" id="chatbox-input" placeholder="Type your message..." autocomplete="off" required />
    <button type="submit" id="chatbox-send">Send</button>
  </form>
</div>

<script>
// Page navigation (unchanged)
function showPage(pageId) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
function loadPageFromHash() {
  const hash = window.location.hash || '#it';
  if (hash === '#real-estate') showPage('real-page');
  else if (hash === '#flip') showPage('flip-page');
  else showPage('it-page');
}
window.addEventListener('hashchange', loadPageFromHash);
window.addEventListener('load', loadPageFromHash);

// Chat Widget - NOW FIXED WITH WORKING FREE PROXY (NO KEY NEEDED!)
const toggle = document.getElementById('chat-toggle');
const chatbox = document.getElementById('chatbox');
const closeBtn = document.getElementById('chat-close');
const form = document.getElementById('chatbox-form');
const input = document.getElementById('chatbox-input');
const messages = document.getElementById('chatbox-messages');

toggle.onclick = () => chatbox.style.display = (chatbox.style.display === 'flex') ? 'none' : 'flex';
closeBtn.onclick = () => chatbox.style.display = 'none';
window.onclick = (e) => { if (e.target === chatbox) chatbox.style.display = 'none'; }

form.onsubmit = async (e) => {
  e.preventDefault();
  const userText = input.value.trim();
  if (!userText) return;

  messages.innerHTML += `<p class="user"><strong>You:</strong> ${userText}</p>`;
  input.value = '';
  messages.scrollTop = messages.scrollHeight;

  const typing = document.createElement('p');
  typing.className = 'ai';
  typing.innerHTML = `<em><strong>AI:</strong> Thinking...</em>`;
  messages.appendChild(typing);
  messages.scrollTop = messages.scrollHeight;

  try {
    const res = await fetch('https://chatgpt.apinews.net/v1/chat/completions', {  // NEW WORKING FREE PROXY - Nov 30, 2025
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        model: "gpt-3.5-turbo",
        messages: [
          { role: "system", content: "You are a friendly, professional AI assistant for Radiant Spark LLC in Georgia. We offer IT services, real estate, and home renovation/flipping. Always be helpful, concise, and encourage contact for quotes or consultations." },
          { role: "user", content: userText }
        ],
        temperature: 0.7,
        max_tokens: 600
      })
    });

    const data = await res.json();
    typing.remove();
    const reply = data.choices?.[0]?.message?.content || "Sorry, I'm having trouble right now. Please try again in a moment!";

    messages.innerHTML += `<p class="ai"><strong>AI:</strong> ${reply.replace(/\n/g, '<br>')}</p>`;
    messages.scrollTop = messages.scrollHeight;

  } catch (err) {
    typing.remove();
    messages.innerHTML += `<p class="ai" style="color:red;"><strong>Error:</strong> Connection issue. Trying another server...</p>`;
    messages.scrollTop = messages.scrollHeight;
    console.error(err);
  }
};
</script>
</body>
</html>
